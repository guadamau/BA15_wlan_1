#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass scrbook
\use_default_options true
\master 0000_BA15_wlan_1.lyx
\maintain_unincluded_children false
\language ngerman
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman cmr
\font_sans lmss
\font_typewriter cmtt
\font_math auto
\font_default_family sfdefault
\use_non_tex_fonts false
\font_sc false
\font_osf true
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize 11
\spacing other 1.2
\use_hyperref false
\papersize a4paper
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Stichwortverzeichnis
\shortcut idx
\color #008000
\end_index
\leftmargin 35mm
\topmargin 35mm
\rightmargin 25mm
\bottommargin 30mm
\headheight 18mm
\headsep 12mm
\footskip 20mm
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\quotes_language french
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Chapter
Theoretische Grundlagen
\begin_inset CommandInset label
LatexCommand label
name "chap:Theoretische-Grundlagen"

\end_inset


\end_layout

\begin_layout Section
Parallel Redundancy Protocol (PRP)
\end_layout

\begin_layout Standard
Bei PRP handelt es sich um ein Kommunikationsprotokoll, welches eine Redundanz
 im Netzwerk gewährleistet.
 Dies wird erreicht, indem ein Netzwerkknoten mit 2 Netzwerkinterfaces an
 zwei disjunkten, parallel betriebenen LANs (LAN A und LAN B) angeschlossen
 wird, die unabhängig von einander sind.
 Diese beiden LANs ergeben zusammen ein PRP-Netzwerk.
 Ein solcher Knoten im PRP-Netzwerk wird 
\begin_inset Quotes fld
\end_inset

Dual Attached Node
\begin_inset Quotes frd
\end_inset

 (oder auch u.a.
 
\begin_inset Quotes fld
\end_inset

Double Attached Node
\begin_inset Quotes frd
\end_inset

), kurz DAN, genannt.
 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutorial_on_Parallel_Redundancy_Protocol_(PRP)"

\end_inset


\end_layout

\begin_layout Standard
In diesem Kapitel wird PRP Version 1 (auch als PRP-1 bekannt) behandelt.
 Die vorherige Version wird PRP-0 genannt.
 Die beiden Versionen sind nicht kompatibel zu einander.
 
\begin_inset CommandInset citation
LatexCommand cite
key "PRP_InES_ZHAW"

\end_inset


\end_layout

\begin_layout Standard
Wenn ein DAN etwas an einen anderen Netzwerkteilnehmer sendet, dupliziert
 er das Frame und übermittelt es über beide LANs.
 Beim Empfänger wird das Frame, das als Erstes ankommt, an die oberen Schichten
 weitergeleitet und das Duplikat je nach nach Methode akzeptiert oder verworfen.
 Auf die Duplikat-Handhabung wird genauer im Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Handhabung-von-Frame-Duplikaten"

\end_inset

 eingegangen.
 Für die Duplikaterzeugung und -erkennung ist die Link Redundancy Entitiy
 (LRE) zuständig, welche sich zwischen den beiden Netzwerkinterfaces und
 den oberen Netzwerkschichten in einem DAN befindet.
 Um diese Frame-Redundanz handhaben zu können, wird vom LRE beim Versand
 dem Frame am Ende ein Redundancy Control Trailer (RCT) angehängt, der beim
 Empfänger von dessen LRE wieder entfernt wird.
 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutorial_on_Parallel_Redundancy_Protocol_(PRP)"

\end_inset


\end_layout

\begin_layout Standard
Dieser RCT hat eine Grösse von 6 Bytes und beeinhaltet folgende Parameter
 
\begin_inset CommandInset citation
LatexCommand cite
key "PRP-Wireshark_Wiki,PRP-Industrial_IP"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

% PRP-SUFFIX?! 4 Bytes? 0x88FB
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Sequenznummer (16 Bit)
\begin_inset Newline newline
\end_inset

Jede Quelle hat lediglich einen Sequenznummernraum 
\begin_inset CommandInset citation
LatexCommand cite
key "PRP_InES_ZHAW"

\end_inset


\end_layout

\begin_layout Itemize
LAN-Identifikator (4 Bit)
\begin_inset Newline newline
\end_inset

Dieser Parameter lautet entwerder 0xA für LAN_A oder 0xB für LAN_B
\end_layout

\begin_layout Itemize
Frame-Grösse (12 Bit)
\begin_inset Newline newline
\end_inset

Umfasst die Grösse des Payloads des Ethernet-Frames in Bytes zuzüglich den
 4 Bytes vom RCT
\end_layout

\begin_layout Itemize
PRP-Suffix (16 Bit)
\begin_inset Newline newline
\end_inset

Damit ein Frame als PRP-1-Frame erkannt wird, wird der Suffix auf 0x88FB
 gesetzt 
\begin_inset CommandInset citation
LatexCommand cite
key "PRP-Industrial_IP"

\end_inset


\begin_inset Newline newline
\end_inset

Die Länge des Suffix hat den Grund, dass so mit einer sehr geringen Wahrscheinli
chkeit durch Zufall ein Nicht-PRP-Frame diesen Wert am Schluss des Frames
 (vor der Frame Check Sequence) hat und es als PRP-Frame erkannt wird, obwohl
 es keines wäre.
\end_layout

\begin_layout Standard
Des Weiteren gibt es auch Netzwerkkomponenten, die nur über ein Netzwerkinterfac
e verfügen und lediglich an einem LAN des PRP-Netzwerks angeschlossen sind.
 Solche Geräte werden 
\begin_inset Quotes fld
\end_inset

Single Attached Node
\begin_inset Quotes frd
\end_inset

, kurz SAN, genannt.
 Diese können zwar mit allnen Netzwerkteilnehmern kommunizieren, die sich
 in beiden LANs befinden, jedoch können nur andere SANs erreicht werden,
 die am selben LAN angeschlossen sind.
 SANs, die mit dem anderen LAN verbunden sind, können nicht erreicht werden.
 Daher erzeugen SANs beim Frameversand keine Duplikate und hängen somit
 auch kein RCT an die Frames.
 Erhält ein SAN ein Frame mit einem RCT wird dies als zusätzliches Padding
 ohne Bedeutung wahrgenommen.
 
\begin_inset CommandInset citation
LatexCommand cite
key "PRP-Hirschmann"

\end_inset


\end_layout

\begin_layout Standard
Eine zusätzliche Möglichkeit, um Geräte mit nur einem Netzwerkinterface
 an einem PRP-Netzwerk anzuschliessen, wäre über eine Redundancy Box (RedBox).
 Eine RedBox ist wie ein DAN über beide LANs im PRP-Netzwerk eingebunden
 und bietet weitere Anschlüsse für Geräte mit nur einem Interface.
 Ein solches Gerät, das über eine RedBox am PRP-Netzwerk teilnimmt, erscheint
 für die anderen Teilnehmer wie ein DAN und wird 
\begin_inset Quotes fld
\end_inset

Virtual Dual Attached Node
\begin_inset Quotes frd
\end_inset

 (VDAN) genannt.
 Somit fungiert die RedBox als Proxy für VDANs und hat aus Management-Gründen
 eine eigene IP-Adresse.
 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutorial_on_Parallel_Redundancy_Protocol_(PRP),PRP-Hirschmann"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename _img/011_PRP-Netzwerk.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Beispielaufbau eines PRP-Netzwerks 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutorial_on_Parallel_Redundancy_Protocol_(PRP)"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Durch diesen Ablauf und Aufbau wird garantiert, dass die Kommunikation bei
 dem Ausfall eines LANs trotzdem bestehen bleibt, ohne Zeit für eine Umschaltung
 zu benötigen.
 Aufgrund dieser Eigenschaft wird PRP unter anderem als 
\begin_inset Quotes fld
\end_inset

seamless
\begin_inset Quotes frd
\end_inset

 oder 
\begin_inset Quotes fld
\end_inset

bumpless
\begin_inset Quotes frd
\end_inset

 bezeichnet.
 
\begin_inset CommandInset citation
LatexCommand cite
key "Tutorial_on_Parallel_Redundancy_Protocol_(PRP),PPT_Ethernet_Redundancy_with_zero_switchover_time"

\end_inset


\end_layout

\begin_layout Subsection
Handhabung von Frame-Duplikaten
\begin_inset CommandInset label
LatexCommand label
name "sub:Handhabung-von-Frame-Duplikaten"

\end_inset


\end_layout

\begin_layout Subsection
Software Implementation
\end_layout

\end_body
\end_document
